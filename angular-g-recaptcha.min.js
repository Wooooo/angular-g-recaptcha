/**
 * @name angular-g-recaptcha
 * @version v3.0.0
 * @author Taewoo Kim xodn4195@gmail.com
 * @license MIT
 */
!function(e,n){function t(e){return e&&e.$evalAsync&&e.$watch}function i(e){return e&&e.window===e}function r(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:i(n)?r="$WINDOW":n&&document===n?r="$DOCUMENT":t(n)&&(r="$SCOPE"),r}function a(e){var t=[];return JSON.stringify(e,function(e,i){if(i=r(e,i),n.isObject(i)){if(t.indexOf(i)>=0)return"...";t.push(i)}return i})}function o(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):n.isUndefined(e)?"undefined":"string"!=typeof e?a(e):e}function c(e,n){return n=n||Error,function(){var t=2,i=arguments,r=i[0],a="["+(e?e+":":"")+r+"] ",c=i[1];return a+=c.replace(/\{\d+\}/g,function(e){var n=+e.slice(1,-1),r=n+t;return r<i.length?o(i[r]):e}),new n(a)}}function s(e){function t(e,n,t){void 0===t?g[e]=n:t[e]=n}function i(e){return e.split("-").reduce(function(e,n){return e+=n.charAt(0).toUpperCase()+n.slice(1)})}function r(e){var t="//www.google.com/recaptcha/api.js?render=explicit&onload="+l+(o?"&hl="+o:""),i={type:"text/javascript",async:!0,defer:!0,src:t};return s=n.extend(e[0].createElement("script"),i),e[0].querySelector("head").appendChild(s),s}var a,o,s,u=5e3,f=this,d=void 0,l="onRecaptchaApiLoaded",g={sitekey:void 0,theme:"light",type:"image",size:"normal",tabindex:0,callback:n.noop,"expired-callback":n.noop},p=["sitekey","theme","type","size","tabindex","callback","expired-callback"],w=["languageCode","grecaptcha","onLoadMethodName"].concat(p);this.setSitekey=function(e){return t("sitekey",e,arguments[1]),f},this.setTheme=function(e){var i=["dark","light"];if(n.isString(e)&&(e=n.lowercase(e)),-1===i.indexOf(e))throw new h("badtheme","A theme has to be one of {0}.",i);return t("theme",e,arguments[1]),f},this.setType=function(e){var i=["audio","image"];if(n.isString(e)&&(e=n.lowercase(e)),-1===i.indexOf(e))throw new h("badtype","A type has to be one of {0}.",i);return t("type",e,arguments[1]),f},this.setSize=function(e){var i=["compact","normal"];if(n.isString(e)&&(e=n.lowercase(e)),-1===i.indexOf(e))throw new h("badsize","A size has to be one of {0}.",i);return t("size",e,arguments[1]),f},this.setTabindex=function(e){if(!n.isNumber(e))throw new h("badtabindex","A tabindex has to be a number.");return t("tabindex",e,arguments[1]),f},this.setCallback=function(e){if(!n.isFunction(e)&&!n.isArray(e))throw new h("badcb","A callback has to be a function or a array of functions.");return t("callback",e,arguments[1]),f},this.setExpiredCallback=function(e){if(!n.isFunction(e)&&!n.isArray(e))throw new h("badexpcb","A expired-callback has to a function or a array of functions.");return t("expired-callback",e,arguments[1]),f},this.setLanguageCode=function(n){if(void 0===e[n])throw new h("badlan","The languageCode is invalid.",n);return o=n,f},this.setGrecaptcha=function(e){return a=e,f},this.setOnLoadMethodName=function(e){return l=e,f},this.set=function(){var e=arguments,t=this;if(n.isObject(e[0])){var r=e[0],a=e[1];n.forEach(r,function(e,n){if(a)try{t.set(n,e)}catch(i){}else t.set(n,e)})}else if(n.isString(e[0])){var o=e[0],c=e[1];if(-1===w.indexOf(o))throw new h("setnosuchkey","There is no such key {0} in {1}.",o,w);var s=i("set-"+o);t[s](c)}return f},this.get=function(e){if("languageCode"==e)return o;if("onLoadMethodName"==e)return l;if("grecaptcha"==e)return a;if(-1!==p.indexOf(e))return g[e];throw new h("getnosuchkey","There is no such key {0} in {1}.",e,w)},this.$get=["$q","$window","$rootScope","$document","$timeout",function(e,t,s,w,m){function b(e){return void 0===$[e]&&($[e]=new Object),$[e]}function v(e){void 0!==$[e]&&delete $[e]}function y(e){var t=n.copy(g);f.set(e||{},t),b(this)._config=t}function k(e){if(n.isNumber(e)){if(void 0===x[e])throw new h("nogre","There is no gre which has wiget_id {0}",e);return x[e]}if(n.isUndefined(e)||n.isObject(e))return new y(e);throw new h("badconf","Grecaptcha configuration must be a number or object.")}var x={},$={},A=c("gre");return y.prototype.reset=function(){return a.reset(b(this)._widgetId),this},y.prototype.getResponse=function(){return a.getResponse(b(this)._widgetId)},y.prototype.getElement=function(){return b(this)._element},y.prototype.getWidgetId=function(){return b(this)._widgetId},y.prototype.init=function(i){var o=this;return a&&(d=e.when(o)),d?d:d=e(function(e,a){m(function(){a(new A("srcdelay","A recaptcha script load is timed out."))},u),t[l]=function(){s.$apply(function(){(i||n.noop)(),f.setGrecaptcha(t.grecaptcha),e(o)})},r(w)})},y.prototype.remove=function(){var e=b(this)._widgetId;void 0!==e&&delete x[e],v(this)},y.prototype.render=function(t,i,r){var o=this,c=b(this);if(!n.isElement(t))throw new A("badel","The element is invalid.");if(void 0==c._config.sitekey)throw new A("nositekey","The sitekey has to be provided.");return void 0!==c._widgetId?e.when(this):this.init(r).then(function(){function r(t){var i=void 0;if(n.isFunction(t)){var r=t;i=function(e){r.call(this,e)}}else if(n.isArray(t)){var a=t;i=function(n){for(var t=e.when(n),i=0;i<a.length;i++)t=t.then(a[i]);t["catch"](function(e){throw new Error(e)})}}return i}var s={},u=c._config.callback,h=c._config["expired-callback"];return s=n.extend({},c._config,{callback:r(u),"expired-callback":r(h)}),c._widgetId=a.render(t,s),c._element=n.element(t),c._element.on("$destroy",function(){o.remove(),(i||n.noop)()}),x[c._widgetId]=o})},y.prototype.set=function(){var e=arguments,t=this;if(n.isObject(e[0])){var r=e[0],a=e[1];n.forEach(r,function(e,n){if(a)try{t.set(n,e)}catch(i){}else t.set(n,e)})}else{if(!n.isString(e[0]))throw new A("badsetargs","The first argument of set method has to be either object or string.");var o=e[0],c=e[1];if(-1!==p.indexOf(o)){var s=i("set-"+o);f[s](c,b(t)._config)}}return this},y.prototype.get=function(e){return-1!==p.indexOf(e)?b(this)._config[e]:void 0},k.getLanguageCode=function(){return o},k.getOnLoadMethodName=function(){return l},k.getGrecaptcha=function(){return a},k}]}function u(e,t,i){var r={strict:"A",require:"^ngModel",scope:{info:"=greInfo"},link:function(r,a,o,c){function s(e){return c.$setViewValue(e),e}void 0==r.info&&(r.info={});var u=t(o.grecaptcha||"{}")(r),h=e(u);h.set({callback:[s].concat(h.get("callback")),"expired-callback":[c.$setViewValue].concat(h.get("expired-callback"))}),r.info.promise=h.init().then(function(){return a.empty(),h.render(a[0],function(){n.element(i[0].querySelector(".pls-container")).parent().remove()})}).then(function(){return r.info.widgetId=h.getWidgetId(),h})}};return r}var h=c("$grecaptcha");s.$inject=["$greLanguageCodes"];var f={ar:"Arabic",af:"Afrikaans",am:"Amharic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",bn:"Bengali",bg:"Bulgarian",ca:"Catalan","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch","en-GB":"English (UK)",en:"English (US)",et:"Estonian",fil:"Filipino",fi:"Finnish",fr:"French","fr-CA":"French (Canadian)",gl:"Galician",ka:"Georgian",de:"German","de-AT":"German (Austria)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujarati",iw:"Hebrew",hi:"Hindi",hu:"Hungarain",is:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",kn:"Kannada",ko:"Korean",lo:"Laothian",lv:"Latvian",lt:"Lithuanian",ms:"Malay",ml:"Malayalam",mr:"Marathi",mn:"Mongolian",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",ro:"Romanian",ru:"Russian",sr:"Serbian",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",es:"Spanish","es-419":"Spanish (Latin America)",sw:"Swahili",sv:"Swedish",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",vi:"Vietnamese",zu:"Zulu"};u.$inject=["$grecaptcha","$parse","$document"];n.module("wo.grecaptcha",[]).constant("$greLanguageCodes",f).provider("$grecaptcha",s).directive("grecaptcha",u)}(window,window.angular);